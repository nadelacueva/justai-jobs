<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JustAI Jobs - Fair & Square</title>
    <link rel="stylesheet" href="/css/home.css">
</head>
<body>

    <!-- Navigation Bar -->
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="home.html"><img src="/assets/logo.png" alt="Logo" class="logo"></a>
            </div>
            <ul class="nav-links">
                <li><a href="marketplace.html">Ethical AI Jobs</a></li>
                <li><a href="community.html">Connect & Grow</a></li>
                <li><a href="about.html">Who We Are</a></li>
                <li><a href="support-inquiries.html">Support & Inquiries</a></li>
                <li><a href="account-dashboard.html">Account Dashboard</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>JustAI Jobs</h1>
            <p>Fair & Square</p>
        </div>
    </section>

    <section class="job-listings">
        <div class="tabs">
            <button class="active" id="top-salary-btn">Jobs You Might Like</button>
            <button id="newest-jobs-btn">Fresh Opportunities</button>
        </div>

        <!-- Job cards will be dynamically inserted here -->
        <div class="job-cards"></div>
    </section>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const jobCardsContainer = document.querySelector(".job-cards");
            
            // Fetch Jobs for "Jobs You Might Like"
            const fetchTopSalaryJobs = () => {
                fetch('https://justai-backend.onrender.com/api/jobs/top-salary') // ðŸ”¥ Top Salary API
                    .then(response => response.json())
                    .then(data => {
                        jobCardsContainer.innerHTML = ''; // Clear previous jobs
                        data.forEach(job => {
                            const card = document.createElement('div');
                            card.classList.add('job-card', 'dark'); // Apply dark styling

                            card.innerHTML = `
                                <h2>${job.title}</h2>
                                <p class="price"><b><i>$ ${job.salary}</i></b></p>
                                <ul>
                                    <li>${job.description}</li>
                                    <li>Type: ${job.type}</li>
                                    <li>Status: ${job.status}</li>
                                </ul>
                                <button class="apply-btn-r">Apply</button>
                            `;

                            jobCardsContainer.appendChild(card);
                        });
                    })
                    .catch(error => {
                        console.error('Error fetching job data:', error);
                        jobCardsContainer.innerHTML = `<p style="text-align:center;">Sorry, we couldn't load the jobs. Please try again later.</p>`;
                    });
            };

            // Fetch Jobs for "Fresh Opportunities"
            const fetchNewestJobs = () => {
                fetch('https://justai-backend.onrender.com/api/jobs/newest') // ðŸ”¥ Newest Jobs API
                    .then(response => response.json())
                    .then(data => {
                        jobCardsContainer.innerHTML = ''; // Clear previous jobs
                        data.forEach(job => {
                            const card = document.createElement('div');
                            card.classList.add('job-card', 'dark'); // Apply dark styling

                            card.innerHTML = `
                                <h2>${job.title}</h2>
                                <p class="price"><b><i>$ ${job.salary}</i></b></p>
                                <ul>
                                    <li>${job.description}</li>
                                    <li>Type: ${job.type}</li>
                                    <li>Status: ${job.status}</li>
                                </ul>
                                <button class="apply-btn-r">Apply</button>
                            `;

                            jobCardsContainer.appendChild(card);
                        });
                    })
                    .catch(error => {
                        console.error('Error fetching job data:', error);
                        jobCardsContainer.innerHTML = `<p style="text-align:center;">Sorry, we couldn't load the jobs. Please try again later.</p>`;
                    });
            };

            // Event listeners for tabs/buttons
            const topSalaryButton = document.getElementById('top-salary-btn');
            const newestJobsButton = document.getElementById('newest-jobs-btn');

            topSalaryButton.addEventListener('click', () => {
                fetchTopSalaryJobs();
                topSalaryButton.classList.add('active');
                newestJobsButton.classList.remove('active');
            });

            newestJobsButton.addEventListener('click', () => {
                fetchNewestJobs();
                newestJobsButton.classList.add('active');
                topSalaryButton.classList.remove('active');
            });

            // Initially load the "Jobs You Might Like" (Top Salary Jobs)
            fetchTopSalaryJobs();
        });
    </script>

    <section class="testimonials">
        <h2>Great Jobs, Greater Stories</h2>
        <p>Work wins, told by the pros</p>
        <div class="testimonial-cards">
            <div class="testimonial-card">
                <blockquote>JustAI Jobs helped me land my dream role in AI research faster than I ever imagined. The platform made everything so easyâ€”from applying to getting hired!</blockquote>
                <p><b>Samantha Lee</b></p>
                <p style="font-size: 12px;">AI Researcher at FutureMind Labs</p>
            </div>
            <div class="testimonial-card">
                <blockquote>JustAI Jobs connected us with top-tier AI talent in record time. We've grown our machine learning team by 40% this year thanks to them.</blockquote>
                <p><b>David Chen</b></p>
                <p style="font-size: 12px;">CTO at NovaTech AI</p>
            </div>
            <div class="testimonial-card">
                <blockquote>I was amazed at how easy it was to find freelance AI projects that matched my skills. JustAI Jobs made job hunting actually exciting!</blockquote>
                <p><b>Priya Desai</b></p>
                <p style="font-size: 12px;">Freelance Machine Learning Engineer</p>
            </div>
            <div class="testimonial-card">
                <blockquote>Hiring for specialized AI roles used to be a nightmare. JustAI Jobs made it simple, fast, and efficientâ€”absolutely game-changing for startups like ours.</blockquote>
                <p><b>Michael Torres</b></p>
                <p>Co-Founder at SynthMind</p>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-container">
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#">Ethical AI Jobs</a></li>
                    <li><a href="#">Connect & Grow</a></li>
                    <li><a href="#">Who We Are</a></li>
                    <li><a href="#">Support & Inquiries</a></li>
                    <li><a href="#">FAQs</a></li>
                    <li><a href="#">Blog</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Let's Connect</h3>
                <ul>
                    <li><a href="#">Quick Chat</a></li>
                    <li><a href="#">Email</a></li>
                    <li><a href="#">Phone</a></li>
                    <li><a href="#">Address</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Legal & Policies</h3>
                <ul>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                    <li><a href="#">Fair Hiring Commitment</a></li>
                </ul>
            </div>
        </div>
    </footer>   

</body>
</html>
